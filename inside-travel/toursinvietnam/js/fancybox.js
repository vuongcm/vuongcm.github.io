!function(t){var e,n,i,a,o,c,d,l,h,s,r,f,p=0,g={},u=[],y=0,b={},m=[],x=null,w=new Image,v=/\.(jpg|gif|png|bmp|jpeg)(.*)?$/i,C=/[^\.]\.(swf)\s*$/i,k=1,O=!1,M=20,I=t.extend(t("<div/>")[0],{prop:0}),j=0,F=!t.support.opacity&&!window.XMLHttpRequest,S=function(){n.hide(),w.onerror=w.onload=null,x&&x.abort(),e.empty()},T=function(){t.fancybox('<p id="fancybox_error">The requested content cannot be loaded.<br />Please try again later.</p>',{scrolling:"no",padding:20,transitionIn:"none",transitionOut:"none"})},D=function(){return[t(window).width(),t(window).height(),t(document).scrollLeft(),t(document).scrollTop()]},E=function(){var t,e=D(),n={},i=b.margin,a=b.autoScale,o=2*(M+i),c=2*(M+i),d=2*b.padding;return b.width.toString().indexOf("%")>-1?(n.width=e[0]*parseFloat(b.width)/100-2*M,a=!1):n.width=b.width+d,b.height.toString().indexOf("%")>-1?(n.height=e[1]*parseFloat(b.height)/100-2*M,a=!1):n.height=b.height+d,a&&(n.width>e[0]-o||n.height>e[1]-c)&&("image"==g.type||"swf"==g.type?(o+=d,c+=d,t=Math.min(Math.min(e[0]-o,b.width)/b.width,Math.min(e[1]-c,b.height)/b.height),n.width=Math.round(t*(n.width-d))+d,n.height=Math.round(t*(n.height-d))+d):(n.width=Math.min(n.width,e[0]-o),n.height=Math.min(n.height,e[1]-c))),n.top=e[3]+.5*(e[1]-(n.height+2*M)),n.left=e[2]+.5*(e[0]-(n.width+2*M)),b.autoScale===!1&&(n.top=Math.max(e[3]+i,n.top),n.left=Math.max(e[2]+i,n.left)),n},A=function(t){if(t&&t.length)switch(b.titlePosition){case"inside":return t;case"over":return'<span id="fancybox-title-over">'+t+"</span>";default:return'<span id="fancybox-title-wrap"><span id="fancybox-title-left"></span><span id="fancybox-title-main">'+t+'</span><span id="fancybox-title-right"></span></span>'}return!1},H=function(){var e=b.title,n=f.width-2*b.padding,i="fancybox-title-"+b.titlePosition;if(t("#fancybox-title").remove(),j=0,b.titleShow!==!1&&(e=t.isFunction(b.titleFormat)?b.titleFormat(e,m,y,b):A(e),e&&""!==e)){switch(t('<div id="fancybox-title" class="'+i+'" />').css({width:n,paddingLeft:b.padding,paddingRight:b.padding}).html(e).appendTo("body"),b.titlePosition){case"inside":j=t("#fancybox-title").outerHeight(!0)-b.padding,f.height+=j;break;case"over":t("#fancybox-title").css("bottom",b.padding);break;default:t("#fancybox-title").css("bottom",-1*t("#fancybox-title").outerHeight(!0))}t("#fancybox-title").appendTo(o).hide()}},B=function(){t(document).unbind("keydown.fb").bind("keydown.fb",function(e){27==e.keyCode&&b.enableEscapeButton?(e.preventDefault(),t.fancybox.close()):37==e.keyCode?(e.preventDefault(),t.fancybox.prev()):39==e.keyCode&&(e.preventDefault(),t.fancybox.next())}),t.fn.mousewheel&&(a.unbind("mousewheel.fb"),m.length>1&&a.bind("mousewheel.fb",function(e,n){e.preventDefault(),O||0===n||(n>0?t.fancybox.prev():t.fancybox.next())})),b.showNavArrows&&((b.cyclic&&m.length>1||0!==y)&&l.show(),(b.cyclic&&m.length>1||y!=m.length-1)&&h.show())},L=function(){var t,e;m.length-1>y&&(t=m[y+1].href,"undefined"!=typeof t&&t.match(v)&&(e=new Image,e.src=t)),y>0&&(t=m[y-1].href,"undefined"!=typeof t&&t.match(v)&&(e=new Image,e.src=t))},P=function(){c.css("overflow","auto"==b.scrolling?"image"==b.type||"iframe"==b.type||"swf"==b.type?"hidden":"auto":"yes"==b.scrolling?"auto":"visible"),t.support.opacity||(c.get(0).style.removeAttribute("filter"),a.get(0).style.removeAttribute("filter")),t("#fancybox-title").show(),b.hideOnContentClick&&c.one("click",t.fancybox.close),b.hideOnOverlayClick&&i.one("click",t.fancybox.close),b.showCloseButton&&d.show(),B(),t(window).bind("resize.fb",t.fancybox.center),b.centerOnScroll?t(window).bind("scroll.fb",t.fancybox.center):t(window).unbind("scroll.fb"),t.isFunction(b.onComplete)&&b.onComplete(m,y,b),O=!1,L()},N=function(t){var e=Math.round(r.width+(f.width-r.width)*t),n=Math.round(r.height+(f.height-r.height)*t),i=Math.round(r.top+(f.top-r.top)*t),o=Math.round(r.left+(f.left-r.left)*t);a.css({width:e+"px",height:n+"px",top:i+"px",left:o+"px"}),e=Math.max(e-2*b.padding,0),n=Math.max(n-(2*b.padding+j*t),0),c.css({width:e+"px",height:n+"px"}),"undefined"!=typeof f.opacity&&a.css("opacity",.5>t?.5:t)},W=function(t){var e=t.offset();return e.top+=parseFloat(t.css("paddingTop"))||0,e.left+=parseFloat(t.css("paddingLeft"))||0,e.top+=parseFloat(t.css("border-top-width"))||0,e.left+=parseFloat(t.css("border-left-width"))||0,e.width=t.width(),e.height=t.height(),e},z=function(){var e,n,i=g.orig?t(g.orig):!1,a={};return i&&i.length?(e=W(i),a={width:e.width+2*b.padding,height:e.height+2*b.padding,top:e.top-b.padding-M,left:e.left-b.padding-M}):(n=D(),a={width:1,height:1,top:n[3]+.5*n[1],left:n[2]+.5*n[0]}),a},q=function(){if(n.hide(),a.is(":visible")&&t.isFunction(b.onCleanup)&&b.onCleanup(m,y,b)===!1)return t.event.trigger("fancybox-cancel"),void(O=!1);if(m=u,y=p,b=g,c.get(0).scrollTop=0,c.get(0).scrollLeft=0,b.overlayShow&&(F&&t("select:not(#fancybox-tmp select)").filter(function(){return"hidden"!==this.style.visibility}).css({visibility:"hidden"}).one("fancybox-cleanup",function(){this.style.visibility="inherit"}),i.css({"background-color":b.overlayColor,opacity:b.overlayOpacity}).unbind().show()),f=E(),H(),a.is(":visible")){t(d.add(l).add(h)).hide();var o,s=a.position();return r={top:s.top,left:s.left,width:a.width(),height:a.height()},o=r.width==f.width&&r.height==f.height,void c.fadeOut(b.changeFade,function(){var n=function(){c.html(e.contents()).fadeIn(b.changeFade,P)};t.event.trigger("fancybox-change"),c.empty().css("overflow","hidden"),o?(c.css({top:b.padding,left:b.padding,width:Math.max(f.width-2*b.padding,1),height:Math.max(f.height-2*b.padding-j,1)}),n()):(c.css({top:b.padding,left:b.padding,width:Math.max(r.width-2*b.padding,1),height:Math.max(r.height-2*b.padding,1)}),I.prop=0,t(I).animate({prop:1},{duration:b.changeSpeed,easing:b.easingChange,step:N,complete:n}))})}a.css("opacity",1),"elastic"==b.transitionIn?(r=z(),c.css({top:b.padding,left:b.padding,width:Math.max(r.width-2*b.padding,1),height:Math.max(r.height-2*b.padding,1)}).html(e.contents()),a.css(r).show(),b.opacity&&(f.opacity=0),I.prop=0,t(I).animate({prop:1},{duration:b.speedIn,easing:b.easingIn,step:N,complete:P})):(c.css({top:b.padding,left:b.padding,width:Math.max(f.width-2*b.padding,1),height:Math.max(f.height-2*b.padding-j,1)}).html(e.contents()),a.css(f).fadeIn("none"==b.transitionIn?0:b.speedIn,P))},Q=function(){e.width(g.width),e.height(g.height),"auto"==g.width&&(g.width=e.width()),"auto"==g.height&&(g.height=e.height()),q()},R=function(){O=!0,g.width=w.width,g.height=w.height,t("<img />").attr({id:"fancybox-img",src:w.src,alt:g.title}).appendTo(e),q()},$=function(){S();var n,i,a,o,d,l,h,s=u[p];if(g=t.extend({},t.fn.fancybox.defaults,"undefined"==typeof t(s).data("fancybox")?g:t(s).data("fancybox")),a=s.title||t(s).title||g.title||"",s.nodeName&&!g.orig&&(g.orig=t(s).children("img:first").length?t(s).children("img:first"):t(s)),""===a&&g.orig&&(a=g.orig.attr("alt")),n=s.nodeName&&/^(?:javascript|#)/i.test(s.href)?g.href||null:g.href||s.href||null,g.type?(i=g.type,n||(n=g.content)):g.content?i="html":n?n.match(v)?i="image":n.match(C)?i="swf":t(s).hasClass("iframe")?i="iframe":n.match(/#/)?(s=n.substr(n.indexOf("#")),i=t(s).length>0?"inline":"ajax"):i="ajax":i="inline",g.type=i,g.href=n,g.title=a,g.autoDimensions&&"iframe"!==g.type&&"swf"!==g.type&&(g.width="auto",g.height="auto"),g.modal&&(g.overlayShow=!0,g.hideOnOverlayClick=!1,g.hideOnContentClick=!1,g.enableEscapeButton=!1,g.showCloseButton=!1),t.isFunction(g.onStart)&&g.onStart(u,p,g)===!1)return void(O=!1);switch(e.css("padding",M+g.padding+g.margin),t(".fancybox-inline-tmp").unbind("fancybox-cancel").bind("fancybox-change",function(){t(this).replaceWith(c.children())}),i){case"html":e.html(g.content),Q();break;case"inline":t('<div class="fancybox-inline-tmp" />').hide().insertBefore(t(s)).bind("fancybox-cleanup",function(){t(this).replaceWith(c.children())}).bind("fancybox-cancel",function(){t(this).replaceWith(e.children())}),t(s).appendTo(e),Q();break;case"image":O=!1,t.fancybox.showActivity(),w=new Image,w.onerror=function(){T()},w.onload=function(){w.onerror=null,w.onload=null,R()},w.src=n;break;case"swf":o='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+g.width+'" height="'+g.height+'"><param name="movie" value="'+n+'"></param>',d="",t.each(g.swf,function(t,e){o+='<param name="'+t+'" value="'+e+'"></param>',d+=" "+t+'="'+e+'"'}),o+='<embed src="'+n+'" type="application/x-shockwave-flash" width="'+g.width+'" height="'+g.height+'"'+d+"></embed></object>",e.html(o),Q();break;case"ajax":l=n.split("#",2),h=g.ajax.data||{},l.length>1&&(n=l[0],"string"==typeof h?h+="&selector="+l[1]:h.selector=l[1]),O=!1,t.fancybox.showActivity(),x=t.ajax(t.extend(g.ajax,{url:n,data:h,error:T,success:function(t,n,i){200==x.status&&(e.html(t),Q())}}));break;case"iframe":t('<iframe id="fancybox-frame" name="fancybox-frame'+(new Date).getTime()+'" frameborder="0" hspace="0" scrolling="'+g.scrolling+'" src="'+g.href+'"></iframe>').appendTo(e),q()}},X=function(){return n.is(":visible")?(t("div",n).css("top",-40*k+"px"),void(k=(k+1)%12)):void clearInterval(s)},_=function(){t("#fancybox-wrap").length||(t("body").append(e=t('<div id="fancybox-tmp"></div>'),n=t('<div id="fancybox-loading"><div></div></div>'),i=t('<div id="fancybox-overlay"></div>'),a=t('<div id="fancybox-wrap"></div>')),t.support.opacity||(a.addClass("fancybox-ie"),n.addClass("fancybox-ie")),o=t('<div id="fancybox-outer"></div>').append('<div class="fancy-bg" id="fancy-bg-n"></div><div class="fancy-bg" id="fancy-bg-ne"></div><div class="fancy-bg" id="fancy-bg-e"></div><div class="fancy-bg" id="fancy-bg-se"></div><div class="fancy-bg" id="fancy-bg-s"></div><div class="fancy-bg" id="fancy-bg-sw"></div><div class="fancy-bg" id="fancy-bg-w"></div><div class="fancy-bg" id="fancy-bg-nw"></div>').appendTo(a),o.append(c=t('<div id="fancybox-inner"></div>'),d=t('<a id="fancybox-close"></a>'),l=t('<a href="javascript:;" id="fancybox-left"><span class="fancy-ico" id="fancybox-left-ico"></span></a>'),h=t('<a href="javascript:;" id="fancybox-right"><span class="fancy-ico" id="fancybox-right-ico"></span></a>')),d.click(t.fancybox.close),n.click(t.fancybox.cancel),l.click(function(e){e.preventDefault(),t.fancybox.prev()}),h.click(function(e){e.preventDefault(),t.fancybox.next()}),F&&(i.get(0).style.setExpression("height","document.body.scrollHeight > document.body.offsetHeight ? document.body.scrollHeight : document.body.offsetHeight + 'px'"),n.get(0).style.setExpression("top","(-20 + (document.documentElement.clientHeight ? document.documentElement.clientHeight/2 : document.body.clientHeight/2 ) + ( ignoreMe = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop )) + 'px'"),o.prepend('<iframe id="fancybox-hide-sel-frame" src="javascript:\'\';" scrolling="no" frameborder="0" ></iframe>')))};t.fn.fancybox=function(e){return t(this).data("fancybox",t.extend({},e,t.metadata?t(this).metadata():{})).unbind("click.fb").bind("click.fb",function(e){if(e.preventDefault(),!O){O=!0,t(this).blur(),u=[],p=0;var n=t(this).attr("rel")||"";return n&&""!=n&&"nofollow"!==n?(u=t("a[rel="+n+"], area[rel="+n+"]"),p=u.index(this)):u.push(this),$(),!1}}),this},t.fancybox=function(e){if(!O){O=!0;var n="undefined"!=typeof arguments[1]?arguments[1]:{};if(u=[],p=n.index||0,t.isArray(e)){for(var i=0,a=e.length;a>i;i++)"object"==typeof e[i]?t(e[i]).data("fancybox",t.extend({},n,e[i])):e[i]=t({}).data("fancybox",t.extend({content:e[i]},n));u=jQuery.merge(u,e)}else"object"==typeof e?t(e).data("fancybox",t.extend({},n,e)):e=t({}).data("fancybox",t.extend({content:e},n)),u.push(e);(p>u.length||0>p)&&(p=0),$()}},t.fancybox.showActivity=function(){clearInterval(s),n.show(),s=setInterval(X,66)},t.fancybox.hideActivity=function(){n.hide()},t.fancybox.next=function(){return t.fancybox.pos(y+1)},t.fancybox.prev=function(){return t.fancybox.pos(y-1)},t.fancybox.pos=function(t){O||(t=parseInt(t,10),t>-1&&m.length>t&&(p=t,$()),b.cyclic&&m.length>1&&0>t&&(p=m.length-1,$()),b.cyclic&&m.length>1&&t>=m.length&&(p=0,$()))},t.fancybox.cancel=function(){O||(O=!0,t.event.trigger("fancybox-cancel"),S(),g&&t.isFunction(g.onCancel)&&g.onCancel(u,p,g),O=!1)},t.fancybox.close=function(){function e(){i.fadeOut("fast"),a.hide(),t.event.trigger("fancybox-cleanup"),c.empty(),t.isFunction(b.onClosed)&&b.onClosed(m,y,b),m=g=[],y=p=0,b=g={},O=!1}if(!O&&!a.is(":hidden")){if(O=!0,b&&t.isFunction(b.onCleanup)&&b.onCleanup(m,y,b)===!1)return void(O=!1);if(S(),t(d.add(l).add(h)).hide(),t("#fancybox-title").remove(),a.add(c).add(i).unbind(),t(window).unbind("resize.fb scroll.fb"),t(document).unbind("keydown.fb"),c.css("overflow","hidden"),"elastic"==b.transitionOut){r=z();var n=a.position();f={top:n.top,left:n.left,width:a.width(),height:a.height()},b.opacity&&(f.opacity=1),I.prop=1,t(I).animate({prop:0},{duration:b.speedOut,easing:b.easingOut,step:N,complete:e})}else a.fadeOut("none"==b.transitionOut?0:b.speedOut,e)}},t.fancybox.resize=function(){var e,n;O||a.is(":hidden")||(O=!0,e=c.wrapInner("<div style='overflow:auto'></div>").children(),n=e.height(),a.css({height:n+2*b.padding+j}),c.css({height:n}),e.replaceWith(e.children()),t.fancybox.center())},t.fancybox.center=function(){O=!0;var t=D(),e=b.margin,n={};n.top=t[3]+.5*(t[1]-(a.height()-j+2*M)),n.left=t[2]+.5*(t[0]-(a.width()+2*M)),n.top=Math.max(t[3]+e,n.top),n.left=Math.max(t[2]+e,n.left),a.css(n),O=!1},t.fn.fancybox.defaults={padding:10,margin:20,opacity:!1,modal:!1,cyclic:!1,scrolling:"auto",width:560,height:340,autoScale:!0,autoDimensions:!0,centerOnScroll:!1,ajax:{},swf:{wmode:"transparent"},hideOnOverlayClick:!0,hideOnContentClick:!1,overlayShow:!0,overlayOpacity:.3,overlayColor:"#666",titleShow:!0,titlePosition:"outside",titleFormat:null,transitionIn:"fade",transitionOut:"fade",speedIn:300,speedOut:300,changeSpeed:300,changeFade:"fast",easingIn:"swing",easingOut:"swing",showCloseButton:!0,showNavArrows:!0,enableEscapeButton:!0,onStart:null,onCancel:null,onComplete:null,onCleanup:null,onClosed:null},t(document).ready(function(){_()})}(jQuery);